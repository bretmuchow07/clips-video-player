!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).VideoPlayer=t()}(this,function(){"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function t(e,t,n){return t=r(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,n||[],r(e).constructor):t.apply(e,n))}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,h(i.key),i)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(a=function(){return!!e})()}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(t,n){return function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,s,a=[],l=!0,u=!1;try{if(r=(n=n.call(e)).next,0===t);else for(;!(l=(i=r.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw o}}return a}}(t,n)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}var v=function(){return i(function e(){n(this,e),this.events={}},[{key:"on",value:function(e,t){var n=this;return this.events[e]||(this.events[e]=[]),this.events[e].push(t),function(){return n.off(e,t)}}},{key:"off",value:function(e,t){this.events[e]&&(this.events[e]=this.events[e].filter(function(e){return e!==t}))}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.events[e]&&this.events[e].forEach(function(e){return e.apply(void 0,n)})}},{key:"onAny",value:function(e,t){var n=this;e.forEach(function(e){return n.on(e,t)})}}])}(),d=function(){return i(function e(t){n(this,e),this.player=t,this.el=null},[{key:"create",value:function(){throw new Error("Component must implement create() method")}},{key:"mount",value:function(e){this.el||(this.el=this.create()),e.appendChild(this.el)}},{key:"destroy",value:function(){this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.el=null}},{key:"createElement",value:function(e,t){var n=document.createElement(e);return t&&(n.className=t),n}}])}(),p=function(e){function o(e){var i;return n(this,o),(i=t(this,o,[e])).onClick=i.onClick.bind(i),i.onPlay=i.onPlay.bind(i),i.onPause=i.onPause.bind(i),i}return s(o,e),i(o,[{key:"create",value:function(){var e=this.createElement("button","vp-button vp-button--play");return e.innerHTML=this.getIcon(!1),e.onclick=this.onClick,this.player.on("play",this.onPlay),this.player.on("pause",this.onPause),e}},{key:"onClick",value:function(){this.player.togglePlay()}},{key:"onPlay",value:function(){this.el.innerHTML=this.getIcon(!0),this.el.classList.add("vp-button--active")}},{key:"onPause",value:function(){this.el.innerHTML=this.getIcon(!1),this.el.classList.remove("vp-button--active")}},{key:"getIcon",value:function(e){return e?'<svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>':'<svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M8 5v14l11-7z"/></svg>'}}])}(d);function m(e){if(isNaN(e))return"00:00";var t=new Date(1e3*e),n=t.getUTCHours(),i=t.getUTCMinutes(),o=t.getUTCSeconds().toString().padStart(2,"0");return n?"".concat(n,":").concat(i.toString().padStart(2,"0"),":").concat(o):"".concat(i,":").concat(o)}var f=function(e){function o(e){var i;return n(this,o),(i=t(this,o,[e])).isDragging=!1,i.onTimeUpdate=i.onTimeUpdate.bind(i),i.onMouseDown=i.onMouseDown.bind(i),i.onMouseMove=i.onMouseMove.bind(i),i.onMouseUp=i.onMouseUp.bind(i),i}return s(o,e),i(o,[{key:"create",value:function(){var e=this.createElement("div","vp-timeline");return this.progressBar=this.createElement("div","vp-progress-bar"),this.progressHandle=this.createElement("div","vp-progress-handle"),this.progressBar.appendChild(this.progressHandle),e.appendChild(this.progressBar),this.player.on("timeupdate",this.onTimeUpdate),this.timePreview=this.createElement("div","vp-time-preview"),e.appendChild(this.timePreview),e.addEventListener("mousemove",this.onMouseMovePreview.bind(this)),e.addEventListener("mousedown",this.onMouseDown),this.timeline=e,e}},{key:"onMouseMovePreview",value:function(e){var t=this.timeline.getBoundingClientRect(),n=(e.clientX-t.left)/t.width*this.player.video.duration;this.timePreview.textContent=m(n);var i=e.clientX-t.left;this.timePreview.style.left="".concat(i,"px"),this.timePreview.style.transform="translateX(-50%)"}},{key:"onTimeUpdate",value:function(){if(!this.isDragging){var e=this.player.video.currentTime/this.player.video.duration*100||0;this.updateUI(e)}}},{key:"updateUI",value:function(e){this.progressBar.style.width="".concat(e,"%")}},{key:"onMouseDown",value:function(e){this.isDragging=!0,this.updateFromEvent(e),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)}},{key:"onMouseMove",value:function(e){this.isDragging&&this.updateFromEvent(e)}},{key:"onMouseUp",value:function(e){this.isDragging&&(this.isDragging=!1,document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),this.updateFromEvent(e))}},{key:"updateFromEvent",value:function(e){var t=this.timeline.getBoundingClientRect(),n=(e.clientX-t.left)/t.width;n=Math.max(0,Math.min(1,n)),this.updateUI(100*n),this.player.video.duration&&this.player.seek(this.player.video.duration*n)}}])}(d),y=function(e){function o(e){var i;return n(this,o),(i=t(this,o,[e])).onClick=i.onClick.bind(i),i.onInput=i.onInput.bind(i),i.onVolumeChange=i.onVolumeChange.bind(i),i}return s(o,e),i(o,[{key:"create",value:function(){var e=this.createElement("div","vp-volume");return this.btn=this.createElement("button","vp-button"),this.btn.innerHTML=this.getIcon(1),this.btn.onclick=this.onClick,this.slider=this.createElement("input","vp-volume__slider"),this.slider.type="range",this.slider.min=0,this.slider.max=1,this.slider.step=.1,this.slider.value=1,this.slider.oninput=this.onInput,e.appendChild(this.btn),e.appendChild(this.slider),this.player.on("volumechange",this.onVolumeChange),e}},{key:"onClick",value:function(){this.player.video.muted?(this.player.video.muted=!1,this.player.setVolume(this.lastVolume||1)):(this.lastVolume=this.player.video.volume,this.player.video.muted=!0,this.player.setVolume(0))}},{key:"onInput",value:function(e){this.player.setVolume(e.target.value)}},{key:"onVolumeChange",value:function(){var e=this.player.video.volume,t=this.player.video.muted||0===e;this.slider.value=t?0:e,this.btn.innerHTML=this.getIcon(t?0:e)}},{key:"getIcon",value:function(e){return 0===e?'<svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73 4.27 3zM12 4L9.91 6.09 12 8.18V4z"/></svg>':e<.5?'<svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"/></svg>':'<svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M3 9v6h4l5 5V4L9 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg>'}}])}(d),g=function(e){function o(e){var i;return n(this,o),(i=t(this,o,[e])).onTimeUpdate=i.onTimeUpdate.bind(i),i}return s(o,e),i(o,[{key:"create",value:function(){var e=this.createElement("div","vp-time-display");this.currentObj=this.createElement("span"),this.currentObj.textContent="00:00";var t=document.createElement("span");return t.textContent=" / ",this.durationObj=this.createElement("span"),this.durationObj.textContent="00:00",e.appendChild(this.currentObj),e.appendChild(t),e.appendChild(this.durationObj),this.player.on("timeupdate",this.onTimeUpdate),this.player.on("loadedmetadata",this.onTimeUpdate),e}},{key:"onTimeUpdate",value:function(){this.currentObj.textContent=m(this.player.video.currentTime),this.durationObj.textContent=m(this.player.video.duration)}}])}(d),b=function(e){function o(e){var i;return n(this,o),(i=t(this,o,[e])).onClick=i.onClick.bind(i),i}return s(o,e),i(o,[{key:"create",value:function(){var e=this.createElement("button","vp-button vp-button--fullscreen");return e.innerHTML='<svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg>',e.onclick=this.onClick,e}},{key:"onClick",value:function(){document.fullscreenElement?document.exitFullscreen():this.player.container.requestFullscreen()}}])}(d),k=function(e){function o(e){var i;return n(this,o),(i=t(this,o,[e])).toggleMenu=i.toggleMenu.bind(i),i.onSpeedSelect=i.onSpeedSelect.bind(i),i}return s(o,e),i(o,[{key:"create",value:function(){var e=this,t=this.createElement("div","vp-speed-control");t.style.position="relative",this.btn=this.createElement("button","vp-button"),this.btn.innerHTML='<svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M20.38 8.57l-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z"/></svg>',this.btn.title="Playback Speed",this.btn.onclick=this.toggleMenu,this.menu=this.createElement("div","vp-menu");return[.5,.75,1,1.25,1.5,2].forEach(function(t){var n=e.createElement("button","vp-menu-btn");n.textContent=t+"x",n.dataset.speed=t,1===t&&n.classList.add("vp-selected"),n.onclick=function(n){return e.onSpeedSelect(t,n)},e.menu.appendChild(n)}),t.appendChild(this.btn),t.appendChild(this.menu),document.addEventListener("click",function(n){t.contains(n.target)||e.menu.classList.remove("vp-active")}),t}},{key:"toggleMenu",value:function(){this.menu.classList.toggle("vp-active")}},{key:"onSpeedSelect",value:function(e,t){this.player.video.playbackRate=e,Array.from(this.menu.children).forEach(function(e){return e.classList.remove("vp-selected")}),t.target.classList.add("vp-selected"),this.menu.classList.remove("vp-active")}}])}(d),C=function(e){function o(e){var i;return n(this,o),(i=t(this,o,[e])).toggleMenu=i.toggleMenu.bind(i),i}return s(o,e),i(o,[{key:"create",value:function(){var e=this,t=this.createElement("div","vp-quality-control");t.style.position="relative",this.btn=this.createElement("button","vp-button"),this.btn.innerHTML='<svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M19.5 4h-15A2.5 2.5 0 0 0 2 6.5v11A2.5 2.5 0 0 0 4.5 20h15a2.5 2.5 0 0 0 2.5-2.5v-11A2.5 2.5 0 0 0 19.5 4zm0 13.5h-15a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5h15a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-.5.5zM7.5 15h2v-6h-2v6zm5-6v6h2V9h-2zm5 0v6h2V9h-2z"/></svg>',this.btn.title="Quality",this.btn.onclick=this.toggleMenu,this.menu=this.createElement("div","vp-menu");return[{label:"Auto",value:"auto"},{label:"1080p",value:"1080p"},{label:"720p",value:"720p"},{label:"480p",value:"480p"}].forEach(function(t){var n=e.createElement("button","vp-menu-btn");n.innerHTML="<span>".concat(t.label,"</span>").concat("auto"===t.value?'<span style="background:#4facfe;color:white;padding:2px 4px;border-radius:2px;font-size:10px;margin-left:5px">AUTO</span>':""),"auto"===t.value&&n.classList.add("vp-selected"),n.onclick=function(){return e.onQualitySelect(t.value,n)},e.menu.appendChild(n)}),t.appendChild(this.btn),t.appendChild(this.menu),document.addEventListener("click",function(n){t.contains(n.target)||e.menu.classList.remove("vp-active")}),t}},{key:"toggleMenu",value:function(){this.menu.classList.toggle("vp-active")}},{key:"onQualitySelect",value:function(e,t){console.log("Switching quality to:",e),Array.from(this.menu.children).forEach(function(e){return e.classList.remove("vp-selected")}),t.classList.add("vp-selected"),this.menu.classList.remove("vp-active")}}])}(d),w=function(e){function o(e){var i;return n(this,o),(i=t(this,o,[e])).toggleMenu=i.toggleMenu.bind(i),i.onTimeUpdate=i.onTimeUpdate.bind(i),i.tracks={},i.currentTrack=null,i.cues=[],i.mockCaptions={en:"WEBVTT\n\n00:00:00.000 --\x3e 00:00:05.000\nWelcome to the enhanced video player with caption support!\n\n00:00:05.000 --\x3e 00:00:10.000\nThis player features multiple subtitle languages and customizable styling.\n\n00:00:10.000 --\x3e 00:00:15.000\nYou can adjust the size, color, and background of captions.",es:"WEBVTT\n\n00:00:00.000 --\x3e 00:00:05.000\n¡Bienvenido al reproductor de video mejorado!\n\n00:00:05.000 --\x3e 00:00:10.000\nEste reproductor incluye múltiples idiomas."},i}return s(o,e),i(o,[{key:"create",value:function(){var e=this,t=this.createElement("div","vp-captions-control");return t.style.position="relative",this.btn=this.createElement("button","vp-button"),this.btn.innerHTML='<svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 7H7.5v-1.5h-2v3h2V11H11v2H5.5v-4h5.5v2zM19 11h-5.5v4h2v-1.5h2v1.5h1.5v-4h-5.5v2H18v-2h-1c-.55 0-1 .45-1 1v2c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1z"/></svg>',this.btn.title="Captions",this.btn.onclick=this.toggleMenu,this.menu=this.createElement("div","vp-menu"),this.createOverlay(),this.populateMenu(),t.appendChild(this.btn),t.appendChild(this.menu),this.player.on("timeupdate",this.onTimeUpdate),document.addEventListener("click",function(n){t.contains(n.target)||e.menu.classList.remove("vp-active")}),t}},{key:"createOverlay",value:function(){this.overlay=document.createElement("div"),this.overlay.className="vp-captions-overlay",this.overlay.style.display="none",this.captionText=document.createElement("span"),this.captionText.className="vp-caption-text",this.overlay.appendChild(this.captionText),this.player.container.appendChild(this.overlay)}},{key:"populateMenu",value:function(){var e=this,t=this.createElement("button","vp-menu-btn");t.textContent="Off",t.onclick=function(){return e.setTrack(null)},this.currentTrack||t.classList.add("vp-selected"),this.menu.appendChild(t),["en","es"].forEach(function(n){var i=e.createElement("button","vp-menu-btn");i.textContent=n.toUpperCase(),i.dataset.lang=n,i.onclick=function(i){e.setTrack(n),Array.from(e.menu.children).forEach(function(e){return e.classList.remove("vp-selected")}),i.target.classList.add("vp-selected"),t.classList.remove("vp-selected")},e.menu.appendChild(i),e.tracks[n]=e.parseVTT(e.mockCaptions[n])})}},{key:"toggleMenu",value:function(){this.menu.classList.toggle("vp-active")}},{key:"setTrack",value:function(e){this.currentTrack=e,e?(this.cues=this.tracks[e],this.overlay.style.display="block",this.btn.classList.add("vp-button--active")):(this.cues=[],this.overlay.style.display="none",this.btn.classList.remove("vp-button--active")),this.menu.classList.remove("vp-active")}},{key:"onTimeUpdate",value:function(){if(this.currentTrack&&this.cues.length){var e=this.player.video.currentTime,t=this.cues.find(function(t){return e>=t.startTime&&e<=t.endTime});t?(this.captionText.textContent=t.text,this.captionText.style.display="inline-block"):this.captionText.style.display="none"}}},{key:"parseVTT",value:function(e){for(var t=e.split("\n").filter(function(e){return e.trim()}),n=[],i=null,o=0;o<t.length;o++){var r=t[o].trim();if("WEBVTT"!==r)if(r.includes("--\x3e")){var s=c(r.split("--\x3e").map(function(e){return e.trim()}),2),a=s[0],l=s[1];i={startTime:this.parseTimeStamp(a),endTime:this.parseTimeStamp(l),text:""}}else i&&r&&(i.text+=(i.text?" ":"")+r,o!==t.length-1&&!t[o+1].includes("--\x3e")&&t[o+1].trim()||(n.push(i),i=null))}return n}},{key:"parseTimeStamp",value:function(e){var t=e.split(":"),n=t[t.length-1].split("."),i=parseInt(n[0])+parseInt(n[1]||0)/1e3;return 3===t.length?3600*parseInt(t[0])+60*parseInt(t[1])+i:60*parseInt(t[0])+i}}])}(d),E=function(e){function o(e){return n(this,o),t(this,o,[e])}return s(o,e),i(o,[{key:"create",value:function(){var e=this.createElement("div","vp-player__controls"),t=this.createElement("div","vp-timeline-container");new f(this.player).mount(t),e.appendChild(t);var n=this.createElement("div","vp-controls-row");e.appendChild(n);var i=this.createElement("div","vp-controls-left");n.appendChild(i);var o=new p(this.player);new y(this.player).mount(i),new g(this.player).mount(i);var r=this.createElement("div","vp-controls-center");n.appendChild(r),o.mount(r);var s=this.createElement("div","vp-controls-right");return n.appendChild(s),new C(this.player).mount(s),new w(this.player).mount(s),new k(this.player).mount(s),new b(this.player).mount(s),e}}])}(d),T=function(e){function r(e){var i;if(n(this,r),(i=t(this,r)).config=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({controls:!0,autoplay:!1,theme:"dark"},e),i.container="string"==typeof i.config.container?document.querySelector(i.config.container):i.config.container,!i.container)throw new Error("VideoPlayer: Container not found");return i.video=null,i.controls=null,i.init(),i}return s(r,e),i(r,[{key:"init",value:function(){this.container.classList.add("vp-player");var e=this.container.querySelector("video");e?(this.video=e,this.video.classList.add("vp-player__video"),this.config.src&&(this.video.src=this.config.src),this.config.autoplay&&(this.video.autoplay=!0)):(this.video=document.createElement("video"),this.video.className="vp-player__video",this.config.src&&(this.video.src=this.config.src),this.config.autoplay&&(this.video.autoplay=!0),this.container.appendChild(this.video)),this.config.controls&&(this.controlsComponent=new E(this),this.controlsComponent.mount(this.container)),this.attachEvents(),this.showControls()}},{key:"attachEvents",value:function(){var e=this;this.video.addEventListener("play",function(){e.emit("play"),e.hideControlsDelayed()}),this.video.addEventListener("pause",function(){e.emit("pause"),e.showControls()}),this.video.addEventListener("ended",function(){e.emit("ended"),e.showControls()}),this.video.addEventListener("timeupdate",function(){return e.emit("timeupdate")}),this.video.addEventListener("volumechange",function(){return e.emit("volumechange")}),this.video.addEventListener("loadedmetadata",function(){return e.emit("loadedmetadata")}),this.container.addEventListener("mouseenter",function(){return e.showControls()}),this.container.addEventListener("mouseleave",function(){return e.hideControlsDelayed()}),this.container.addEventListener("mousemove",function(){e.showControls(),e.hideControlsDelayed()}),this.video.addEventListener("click",function(){return e.togglePlay()})}},{key:"showControls",value:function(){this.container.classList.add("vp-show-controls"),this.controlsTimeout&&clearTimeout(this.controlsTimeout)}},{key:"hideControlsDelayed",value:function(){var e=this;this.video.paused||(this.controlsTimeout&&clearTimeout(this.controlsTimeout),this.controlsTimeout=setTimeout(function(){e.container.classList.remove("vp-show-controls")},3e3))}},{key:"play",value:function(){return this.video.play()}},{key:"pause",value:function(){this.video.pause()}},{key:"seek",value:function(e){this.video.currentTime=e}},{key:"setVolume",value:function(e){this.video.volume=Math.max(0,Math.min(1,e)),this.video.muted=0===e}},{key:"togglePlay",value:function(){this.video.paused?this.play():this.pause()}},{key:"destroy",value:function(){this.video.remove(),this.controls&&this.controls.destroy(),this.container.innerHTML=""}}])}(v);return T});
//# sourceMappingURL=video-player.min.js.map
